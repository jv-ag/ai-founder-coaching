<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Superpower - AI Founder Coaching</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-container">
        <div class="progress-bar">
            <div class="progress-fill" style="width: 25%;"></div>
        </div>

        <div style="padding-top: 1rem;">
            <h1>What's your superpower?</h1>
            <p>Select all that apply - most founders have 1-2 core strengths</p>

            <div class="card-grid" style="margin-top: 2rem;">
                <div class="card" onclick="toggleSuperpower('selling')">
                    <div class="card-title">Selling & Hustling</div>
                    <div class="card-description">I can talk to anyone and close deals</div>
                </div>
                <div class="card" onclick="toggleSuperpower('building')">
                    <div class="card-title">Building & Shipping</div>
                    <div class="card-description">I code fast and ship products</div>
                </div>
                <div class="card" onclick="toggleSuperpower('industry')">
                    <div class="card-title">Industry Knowledge</div>
                    <div class="card-description">I know this space cold</div>
                </div>
                <div class="card" onclick="toggleSuperpower('design')">
                    <div class="card-title">Design & Creativity</div>
                    <div class="card-description">I make things beautiful</div>
                </div>
                <div class="card" onclick="toggleSuperpower('operations')">
                    <div class="card-title">Operations & Process</div>
                    <div class="card-description">I optimize everything</div>
                </div>
            </div>

            <div style="margin-top: 2rem;">
                <button id="nextBtn" class="btn btn-primary btn-disabled" onclick="continueToNext()">
                    Continue <span class="icon-arrow">â†’</span>
                </button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
    <script>
        let selectedSuperpowers = [];

        // Load saved selections on page load
        window.addEventListener('DOMContentLoaded', () => {
            const state = getState();
            if (state.superpowers && state.superpowers.length > 0) {
                selectedSuperpowers = state.superpowers;
                // Restore selected state
                const cards = document.querySelectorAll('.card');
                cards.forEach(card => {
                    const cardTitle = card.querySelector('.card-title').textContent.toLowerCase();
                    if (selectedSuperpowers.some(sp => cardTitle.includes(sp))) {
                        card.classList.add('selected');
                    }
                });
                updateButton();
            }
        });

        function toggleSuperpower(value) {
            const card = event.target.closest('.card');

            if (selectedSuperpowers.includes(value)) {
                // Deselect
                selectedSuperpowers = selectedSuperpowers.filter(sp => sp !== value);
                card.classList.remove('selected');
            } else {
                // Select
                selectedSuperpowers.push(value);
                card.classList.add('selected');
            }

            updateButton();
        }

        function updateButton() {
            const nextBtn = document.getElementById('nextBtn');
            if (selectedSuperpowers.length > 0) {
                nextBtn.classList.remove('btn-disabled');
            } else {
                nextBtn.classList.add('btn-disabled');
            }
        }

        function continueToNext() {
            if (selectedSuperpowers.length === 0) return;

            // Save to state
            saveState({ superpowers: selectedSuperpowers });

            // Navigate
            window.location.href = 'step-validation.html';
        }
    </script>
</body>

</html>
